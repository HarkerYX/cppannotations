Add weak_ptr

is_default_constructible instead of has_trivial_default_constructor, and other
remove the has_trivial things

figure binopscrtp is obsolete and can be removed.

----------------------------------------------------------------------
// To declare a class template as friend:
template <typename Tp1>
class Friend;

template <typename Type>
struct Base
{
    template <typename Tp1>         // to declare it as friend: use the std
    friend class Friend;            // template declaration + friend
                                    // if the above declaration is available
                                    // at this point, 'class' can be omitted.

    template <typename Tp>
    static void fun()
    {};
};

    // call a static member template of a class template:
    // ==================================================
template <typename Type>
struct Der: public Base<Type>
{
    //template <typename Tp>            optional
    static void gun()
    {
        // Base<Type>::fun<int>();          won't compile
        Base<Type>::template fun<int>();
    };
};

//---------------------------------------------------------------------

template <typename Type>
struct Base
{
    template <typename Tp1>         // to declare it as friend: use the normal
    friend class Friend;            // template declaration and `friend'

    template <typename Tp>
    static void fun();


    private:
        void run();

};

template <typename Tp1>
class Friend
{
    public:
        void call(Base<Tp1> &base)
        {
            base.run();
        }
};



int main(int argc, char **argv)
{
    Friend<int> fr;
    Base<int> bi;

    fr.call(bi);
}



